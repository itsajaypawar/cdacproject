import streamlit as st
from transformers import pipeline

st.title(" Indian Constitution Analyzer")
summarizer = pipeline("summarization", model="facebook/bart-large-cnn")
qa_model = pipeline("question-answering", model="distilbert-base-cased-distilled-squad")

menu = st.sidebar.selectbox("Choose Task", ["Summarize Article", "Ask a Question"])

if menu == "Summarize Article":
    text_input = st.text_area("Paste Constitution Article:")
    if st.button("Summarize"):
        output = summarizer(text_input, max_length=150, min_length=30, do_sample=False)
        st.success(output[0]['summary_text'])

elif menu == "Ask a Question":
    context_input = st.text_area("Paste Constitution Article:")
    question_input = st.text_input("Ask a Question:")
    if st.button("Get Answer"):
        result = qa_model(question=question_input, context=context_input)
        st.success(result["answer"])
